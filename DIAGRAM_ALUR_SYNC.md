# ğŸ“Š Diagram Alur Sinkronisasi POS System

## ğŸ¯ Diagram 1: Arsitektur Keseluruhan

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         APLIKASI POS KASIR (Multi-Device)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  KASIR 1     â”‚    â”‚  KASIR 2     â”‚    â”‚  KASIR 3     â”‚    â”‚  KASIR N     â”‚
â”‚  (Device 1)  â”‚    â”‚  (Device 2)  â”‚    â”‚  (Device 3)  â”‚    â”‚  (Device N)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚                   â”‚
       â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ â”‚                 â”‚                   â”‚
       â–¼ â–¼                 â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              LOCAL DATABASE (Hive)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ Products â”‚  â”‚  Sales   â”‚  â”‚ Settings â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                        â”‚
â”‚  âš¡ READ: < 10ms | WRITE: < 5ms                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ â”Œâ”€â”€â”€ WebSocket (Real-time) â”€â”€â”€â”
                     â”‚ â”‚                              â”‚
                     â–¼ â–¼                              â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   SYNC SERVICE             â”‚    â”‚  SOCKET SERVICE  â”‚
         â”‚   â”œâ”€ Background Polling    â”‚    â”‚  â”œâ”€ Auto-connect â”‚
         â”‚   â”œâ”€ Retry Mechanism       â”‚â—„â”€â”€â”€â”¤  â”œâ”€ Broadcast    â”‚
         â”‚   â””â”€ Queue Management      â”‚    â”‚  â””â”€ Auto-reconnectâ”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚                               â”‚
                      â”‚    HTTP API / WebSocket       â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    BACKEND SERVER        â”‚
                    â”‚    (Node.js + Socket.IO) â”‚
                    â”‚                          â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚  â”‚  PostgreSQL DB     â”‚  â”‚
                    â”‚  â”‚  (Master Data)     â”‚  â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Diagram 2: Flow Transaksi (Online Mode)

```
USER                KASIR APP           LOCAL DB          SYNC SERVICE       SERVER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚  Scan Barcode      â”‚                   â”‚                   â”‚               â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚  Get Product      â”‚                   â”‚               â”‚
  â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚               â”‚
  â”‚                    â”‚  (< 10ms)         â”‚                   â”‚               â”‚
  â”‚                    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚               â”‚
  â”‚                    â”‚  Product Data     â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚  Tampil di UI      â”‚                   â”‚                   â”‚               â”‚
  â”‚  (INSTANT!)        â”‚                   â”‚                   â”‚               â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚  Bayar             â”‚                   â”‚                   â”‚               â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚  Save Sale        â”‚                   â”‚               â”‚
  â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚               â”‚
  â”‚                    â”‚  (< 5ms)          â”‚                   â”‚               â”‚
  â”‚                    â”‚  âœ… Saved         â”‚                   â”‚               â”‚
  â”‚                    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚  Print Receipt     â”‚                   â”‚                   â”‚               â”‚
  â”‚  (INSTANT!)        â”‚                   â”‚                   â”‚               â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚  Selesai Transaksi â”‚                   â”‚                   â”‚               â”‚
  â”‚  User happy! ğŸ˜Š    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚        (Background - User tidak tahu) â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚  Trigger Sync     â”‚               â”‚
  â”‚                    â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚  POST /sales  â”‚
  â”‚                    â”‚                   â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                    â”‚                   â”‚                   â”‚  (100-500ms)  â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚  âœ… Success   â”‚
  â”‚                    â”‚                   â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚  Update Synced    â”‚               â”‚
  â”‚                    â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
  â”‚                    â”‚                   â”‚  isSynced: true   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚  WebSocket    â”‚
  â”‚                    â”‚                   â”‚                   â”‚  Broadcast    â”‚
  â”‚                    â”‚                   â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                    â”‚                   â”‚                   â”‚  "new_sale"   â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
                                                               
â±ï¸ USER EXPERIENCE: 0ms wait time!
â±ï¸ BACKGROUND SYNC: 100-500ms (user tidak terganggu)
```

---

## ğŸ“´ Diagram 3: Flow Transaksi (Offline Mode)

```
USER                KASIR APP           LOCAL DB          SYNC SERVICE       SERVER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚  Scan Barcode      â”‚                   â”‚                   â”‚              [X]
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚                   â”‚          Tidak ada
  â”‚                    â”‚                   â”‚                   â”‚           koneksi
  â”‚                    â”‚  Get Product      â”‚                   â”‚               â”‚
  â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚               â”‚
  â”‚                    â”‚  (< 10ms)         â”‚                   â”‚               â”‚
  â”‚                    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚               â”‚
  â”‚                    â”‚  Product Data     â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚  Tampil di UI      â”‚                   â”‚                   â”‚               â”‚
  â”‚  (TETAP INSTANT!)  â”‚                   â”‚                   â”‚               â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚  Bayar             â”‚                   â”‚                   â”‚               â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚  Save Sale        â”‚                   â”‚               â”‚
  â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚               â”‚
  â”‚                    â”‚  (< 5ms)          â”‚                   â”‚               â”‚
  â”‚                    â”‚  âœ… Saved         â”‚                   â”‚               â”‚
  â”‚                    â”‚  isSynced: FALSE  â”‚                   â”‚               â”‚
  â”‚                    â”‚  syncStatus: PEND â”‚                   â”‚               â”‚
  â”‚                    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚  Print Receipt     â”‚                   â”‚                   â”‚               â”‚
  â”‚  (TETAP INSTANT!)  â”‚                   â”‚                   â”‚               â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚  Notif:            â”‚                   â”‚                   â”‚               â”‚
  â”‚  "ğŸ”´ Offline -     â”‚                   â”‚                   â”‚               â”‚
  â”‚  1 pending"        â”‚                   â”‚                   â”‚               â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚  User tetap bisa   â”‚                   â”‚                   â”‚               â”‚
  â”‚  lanjut transaksi  â”‚                   â”‚                   â”‚               â”‚
  â”‚  berikutnya! âœ…    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚     ... beberapa saat kemudian ...     â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚  Koneksi kembali! â”‚                   â”‚               ğŸŸ¢
  â”‚                    â”‚                   â”‚                   â”‚          Online!
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚  Detect Online    â”‚                   â”‚               â”‚
  â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚  Get Pending      â”‚               â”‚
  â”‚                    â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
  â”‚                    â”‚                   â”‚  (15 sales)       â”‚               â”‚
  â”‚                    â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚  POST /sales  â”‚
  â”‚                    â”‚                   â”‚                   â”‚  (batch)      â”‚
  â”‚                    â”‚                   â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚  âœ… Success   â”‚
  â”‚                    â”‚                   â”‚                   â”‚  15/15 synced â”‚
  â”‚                    â”‚                   â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚  Update All       â”‚               â”‚
  â”‚                    â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
  â”‚                    â”‚                   â”‚  isSynced: true   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚
  â”‚  Notif:            â”‚                   â”‚                   â”‚               â”‚
  â”‚  "ğŸŸ¢ Online -      â”‚                   â”‚                   â”‚               â”‚
  â”‚  15 transaksi      â”‚                   â”‚                   â”‚               â”‚
  â”‚  berhasil sync"    â”‚                   â”‚                   â”‚               â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                   â”‚               â”‚
  â”‚                    â”‚                   â”‚                   â”‚               â”‚

â±ï¸ USER EXPERIENCE: TIDAK ADA GANGGUAN saat offline!
â±ï¸ AUTO-SYNC: Otomatis saat online kembali
âœ… DATA AMAN: Tersimpan lokal, tidak hilang
```

---

## ğŸ”Œ Diagram 4: Real-Time Update (WebSocket)

```
KASIR 1              SERVER               KASIR 2              KASIR 3
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  â”‚                     â”‚                     â”‚                     â”‚
  â”‚  Jual Produk X      â”‚                     â”‚                     â”‚
  â”‚  Stock: 100 â†’ 99    â”‚                     â”‚                     â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                     â”‚                     â”‚
  â”‚  POST /sales        â”‚                     â”‚                     â”‚
  â”‚                     â”‚                     â”‚                     â”‚
  â”‚  âœ… Success         â”‚                     â”‚                     â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚                     â”‚
  â”‚                     â”‚                     â”‚                     â”‚
  â”‚                     â”‚  WebSocket Emit     â”‚                     â”‚
  â”‚                     â”‚  "stock_update"     â”‚                     â”‚
  â”‚                     â”‚  {                  â”‚                     â”‚
  â”‚                     â”‚    product_id: "X"  â”‚                     â”‚
  â”‚                     â”‚    new_stock: 99    â”‚                     â”‚
  â”‚                     â”‚  }                  â”‚                     â”‚
  â”‚                     â”‚                     â”‚                     â”‚
  â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                     â”‚
  â”‚                     â”‚                     â”‚  Terima Event       â”‚
  â”‚                     â”‚                     â”‚                     â”‚
  â”‚                     â”‚                     â”‚  Update LOCAL DB    â”‚
  â”‚                     â”‚                     â”‚  stock = 99         â”‚
  â”‚                     â”‚                     â”‚                     â”‚
  â”‚                     â”‚                     â”‚  UI Auto-Refresh    â”‚
  â”‚                     â”‚                     â”‚  Tampil: 99 âœ…      â”‚
  â”‚                     â”‚                     â”‚                     â”‚
  â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                     â”‚                     â”‚  Terima Event       â”‚
  â”‚                     â”‚                     â”‚                     â”‚
  â”‚                     â”‚                     â”‚  Update LOCAL DB    â”‚
  â”‚                     â”‚                     â”‚  stock = 99         â”‚
  â”‚                     â”‚                     â”‚                     â”‚
  â”‚                     â”‚                     â”‚  UI Auto-Refresh    â”‚
  â”‚                     â”‚                     â”‚  Tampil: 99 âœ…      â”‚
  â”‚                     â”‚                     â”‚                     â”‚

â±ï¸ LATENCY: < 1 detik untuk semua device!
ğŸ”„ AUTO-UPDATE: Tidak perlu refresh manual
âœ… KONSISTEN: Semua device lihat data yang sama
```

---

## ğŸ“¥ Diagram 5: Incremental Sync vs Full Sync

### Incremental Sync (Default - Setiap 5 menit)

```
KASIR APP                                    SERVER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  â”‚  Cek last_sync_time                      â”‚
  â”‚  = 2025-10-30 14:00:00                   â”‚
  â”‚                                           â”‚
  â”‚  GET /api/products?                       â”‚
  â”‚      updatedSince=2025-10-30T14:00:00Z   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                                           â”‚
  â”‚                                           â”‚  Query DB:
  â”‚                                           â”‚  SELECT * 
  â”‚                                           â”‚  WHERE updated_at > '...'
  â”‚                                           â”‚  
  â”‚  Response:                                â”‚
  â”‚  [                                        â”‚
  â”‚    { id: 5, name: "A", stock: 50 },      â”‚
  â”‚    { id: 12, name: "B", stock: 30 }      â”‚
  â”‚  ]                                        â”‚
  â”‚  (hanya 2 produk yang berubah)           â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                           â”‚
  â”‚  Update LOCAL DB                          â”‚
  â”‚  - Update produk id 5                     â”‚
  â”‚  - Update produk id 12                    â”‚
  â”‚  âœ… Done!                                 â”‚
  â”‚                                           â”‚
  â”‚  Save new last_sync_time                  â”‚
  â”‚  = 2025-10-30 14:05:00                   â”‚
  â”‚                                           â”‚

â±ï¸ WAKTU: 5-30 detik
ğŸ“Š DATA: Hanya yang berubah (efisien!)
ğŸ”„ FREQUENCY: Setiap 5 menit (background)
```

### Full Sync (Manual/Initial - Batch Processing)

```
KASIR APP                                    SERVER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  â”‚  GET /api/products/count                 â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                                           â”‚
  â”‚  Response: { total: 20000 }              â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                           â”‚
  â”‚  Calculate batches:                       â”‚
  â”‚  20000 Ã· 500 = 40 batches                â”‚
  â”‚                                           â”‚
  â”‚  â”Œâ”€â”€â”€ LOOP 40 times â”€â”€â”€â”                 â”‚
  â”‚  â”‚                      â”‚                 â”‚
  â”‚  â”‚  Batch 1/40          â”‚                 â”‚
  â”‚  â”‚  GET /products?      â”‚                 â”‚
  â”‚  â”‚      page=1&limit=500â”‚                 â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚  â”‚                      â”‚                 â”‚
  â”‚  â”‚  Response: [500 products]              â”‚
  â”‚  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  â”‚                      â”‚                 â”‚
  â”‚  â”‚  Save to LOCAL       â”‚                 â”‚
  â”‚  â”‚  Progress: 500/20000 â”‚                 â”‚
  â”‚  â”‚  UI: â–“â–‘â–‘â–‘â–‘ 2.5%      â”‚                 â”‚
  â”‚  â”‚                      â”‚                 â”‚
  â”‚  â”‚  Batch 2/40          â”‚                 â”‚
  â”‚  â”‚  GET /products?      â”‚                 â”‚
  â”‚  â”‚      page=2&limit=500â”‚                 â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚  â”‚                      â”‚                 â”‚
  â”‚  â”‚  Response: [500 products]              â”‚
  â”‚  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  â”‚                      â”‚                 â”‚
  â”‚  â”‚  Save to LOCAL       â”‚                 â”‚
  â”‚  â”‚  Progress: 1000/20000â”‚                 â”‚
  â”‚  â”‚  UI: â–“â–“â–‘â–‘â–‘ 5%        â”‚                 â”‚
  â”‚  â”‚                      â”‚                 â”‚
  â”‚  â”‚  ... continue ...    â”‚                 â”‚
  â”‚  â”‚                      â”‚                 â”‚
  â”‚  â”‚  Batch 40/40         â”‚                 â”‚
  â”‚  â”‚  GET /products?      â”‚                 â”‚
  â”‚  â”‚      page=40&limit=500                â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚  â”‚                      â”‚                 â”‚
  â”‚  â”‚  Response: [500 products]              â”‚
  â”‚  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  â”‚                      â”‚                 â”‚
  â”‚  â”‚  Save to LOCAL       â”‚                 â”‚
  â”‚  â”‚  Progress: 20000/20000                â”‚
  â”‚  â”‚  UI: â–“â–“â–“â–“â–“ 100% âœ…   â”‚                 â”‚
  â”‚  â”‚                      â”‚                 â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
  â”‚                                           â”‚
  â”‚  Save last_sync_time                      â”‚
  â”‚  = 2025-10-30 14:30:00                   â”‚
  â”‚                                           â”‚
  â”‚  Show notification:                       â”‚
  â”‚  "âœ… 20,000 produk berhasil sync"         â”‚
  â”‚                                           â”‚

â±ï¸ WAKTU: 2-3 menit untuk 20,000 produk
ğŸ“Š DATA: Semua produk (fresh start)
ğŸ”„ FREQUENCY: Manual/Initial setup
âœ… RELIABLE: Progress bar, dapat di-resume
```

---

## âš¡ Diagram 6: Performance Comparison

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          WAKTU RESPONSE (User Perspective)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Traditional Approach (Selalu query server):                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Read Product: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 500-1000ms            â”‚        â”‚
â”‚  â”‚ Create Sale:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 500-1000ms            â”‚        â”‚
â”‚  â”‚ Search:       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 500-1000ms            â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚  âŒ LAMBAT - User tunggu loading                           â”‚
â”‚                                                             â”‚
â”‚  Hybrid Offline-First (Current):                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Read Product: â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ < 10ms                â”‚        â”‚
â”‚  â”‚ Create Sale:  â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ < 10ms (UI update)    â”‚        â”‚
â”‚  â”‚               (Sync to server: background)      â”‚        â”‚
â”‚  â”‚ Search:       â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ < 50ms                â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚  âœ… INSTANT - No loading spinner                           â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          SYNC EFFICIENCY                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Scenario: Update 50 produk dari total 20,000              â”‚
â”‚                                                             â”‚
â”‚  Full Sync:                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Download: 20,000 products                      â”‚        â”‚
â”‚  â”‚ Time:     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 2-3 min       â”‚        â”‚
â”‚  â”‚ Bandwidth: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 5 MB                   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                             â”‚
â”‚  Incremental Sync:                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Download: 50 products (only changed)           â”‚        â”‚
â”‚  â”‚ Time:     â–ˆâ–ˆ 5-10 sec                          â”‚        â”‚
â”‚  â”‚ Bandwidth: â–ˆ 12 KB                             â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚  âœ… 400x FASTER! 400x LESS BANDWIDTH!                      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          MULTI-DEVICE UPDATE SPEED                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Polling Approach (Query server every X seconds):          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Device A create sale                           â”‚        â”‚
â”‚  â”‚   â†“                                            â”‚        â”‚
â”‚  â”‚ Device B sees update after: â–ˆâ–ˆâ–ˆâ–ˆ 30-60 sec     â”‚        â”‚
â”‚  â”‚ (Wait for next polling interval)               â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚  âŒ DELAY - Data outdated                                  â”‚
â”‚                                                             â”‚
â”‚  WebSocket Push (Current):                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Device A create sale                           â”‚        â”‚
â”‚  â”‚   â†“                                            â”‚        â”‚
â”‚  â”‚ Device B sees update: â–ˆ < 1 sec                â”‚        â”‚
â”‚  â”‚ (Instant broadcast)                            â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚  âœ… REAL-TIME - Always up-to-date                          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Diagram 7: Decision Flow (Kapan Pakai Sync Apa?)

```
                          START
                            â”‚
                            â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ Aplikasi startup â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ Ada koneksi     â”‚
                  â”‚ internet?       â”‚
                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                       â”‚       â”‚
                  YES  â”‚       â”‚  NO
                       â”‚       â”‚
                       â–¼       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Check local  â”‚  â”‚ Mode OFFLINE â”‚
            â”‚ data exists? â”‚  â”‚ Load from    â”‚
            â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â”‚ LOCAL only   â”‚
               â”‚       â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          YES  â”‚       â”‚  NO
               â”‚       â”‚
               â–¼       â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ Check       â”‚ â”‚ FULL SYNC   â”‚
      â”‚ last_sync   â”‚ â”‚ Download    â”‚
      â”‚ timestamp   â”‚ â”‚ all data    â”‚
      â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚      â”‚
    < 1h â”‚      â”‚  > 1h
         â”‚      â”‚
         â–¼      â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Use      â”‚ â”‚ INCREMENTAL  â”‚
  â”‚ LOCAL    â”‚ â”‚ SYNC         â”‚
  â”‚ Start    â”‚ â”‚ Get changes  â”‚
  â”‚ backgroundâ”‚ â”‚ only        â”‚
  â”‚ sync     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Background Services: â”‚
  â”‚                      â”‚
  â”‚ 1. WebSocket Listen  â”‚
  â”‚    (Real-time push)  â”‚
  â”‚                      â”‚
  â”‚ 2. Polling Sync      â”‚
  â”‚    (Every 5 min)     â”‚
  â”‚                      â”‚
  â”‚ 3. Auto-retry        â”‚
  â”‚    (Failed sync)     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ Diagram 8: Error Handling & Recovery

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ERROR SCENARIOS & SOLUTIONS                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Scenario 1: Network Error Saat Sync
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Request â”€â”€â”€â”€â”€â”€Xâ”€â”€â”€â”€â”€â”€> Server
    (Network error)
         â”‚
         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Catch Error  â”‚
  â”‚ Add to Queue â”‚
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Retry Strategy:  â”‚
  â”‚ Attempt 1: 1s    â”‚
  â”‚ Attempt 2: 2s    â”‚
  â”‚ Attempt 3: 4s    â”‚
  â”‚ Attempt 4: 8s    â”‚
  â”‚ Attempt 5: 16s   â”‚
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ If all failed:   â”‚
  â”‚ - Keep in queue  â”‚
  â”‚ - Show warning   â”‚
  â”‚ - Retry later    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Scenario 2: Data Conflict (Same Product Updated by 2 Devices)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Device A           Server           Device B
     â”‚                 â”‚                 â”‚
     â”‚ Update stock=50 â”‚                 â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                 â”‚
     â”‚                 â”‚ Save            â”‚
     â”‚                 â”‚ timestamp: T1   â”‚
     â”‚                 â”‚                 â”‚
     â”‚                 â”‚  Update stock=45â”‚
     â”‚                 â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                 â”‚                 â”‚
     â”‚                 â”‚ Compare:        â”‚
     â”‚                 â”‚ T1 > T2?        â”‚
     â”‚                 â”‚ YES             â”‚
     â”‚                 â”‚                 â”‚
     â”‚                 â”‚ Reject! (outdated)
     â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                 â”‚ "Conflict:      â”‚
     â”‚                 â”‚ stock is 50"    â”‚
     â”‚                 â”‚                 â”‚
     â”‚                 â”‚ Device B:       â”‚
     â”‚                 â”‚ - Download latest
     â”‚                 â”‚ - Update local  â”‚
     â”‚                 â”‚ - Notify user   â”‚


Scenario 3: WebSocket Disconnect
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  WebSocket â”€â”€â”€â”€â”€â”€Xâ”€â”€â”€â”€â”€â”€> Server
    (Disconnected)
         â”‚
         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Auto-reconnect   â”‚
  â”‚ Timer: 5s        â”‚
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Reconnect Successâ”‚
  â”‚   â†“              â”‚
  â”‚ Request missed   â”‚
  â”‚ updates since    â”‚
  â”‚ disconnect time  â”‚
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Incremental Sync â”‚
  â”‚ Download changes â”‚
  â”‚ Update UI        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Scenario 4: Database Corruption
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Detect Corruption
         â”‚
         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Show Alert:      â”‚
  â”‚ "Data corrupt"   â”‚
  â”‚                  â”‚
  â”‚ Options:         â”‚
  â”‚ 1. Auto-fix      â”‚
  â”‚ 2. Manual reset  â”‚
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼ (Auto-fix)
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ 1. Backup data   â”‚
  â”‚ 2. Clear corrupt â”‚
  â”‚ 3. Full sync     â”‚
  â”‚ 4. Verify        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Diagram 9: Status Monitoring Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              POS KASIR - SYNC STATUS                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸŸ¢ Status: ONLINE                                          â”‚
â”‚  ğŸ“¡ WebSocket: Connected                                    â”‚
â”‚  â±ï¸ Last Sync: 2 menit yang lalu                            â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Data Lokal:                                                â”‚
â”‚  â”œâ”€ Products:  20,000 items  [â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“] 100%             â”‚
â”‚  â”œâ”€ Categories: 50 items     [â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“] 100%             â”‚
â”‚  â””â”€ Settings:   Configured   [â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“] 100%             â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Pending Sync:                                              â”‚
â”‚  â”œâ”€ Sales: 0 pending        âœ… Semua tersinkron            â”‚
â”‚  â”œâ”€ Updates: 0 pending      âœ… Semua tersinkron            â”‚
â”‚  â””â”€ Errors: 0 failed        âœ… Tidak ada error             â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Actions:                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ Sinkronisasi     â”‚  â”‚ Sinkronisasi     â”‚               â”‚
â”‚  â”‚ Cepat            â”‚  â”‚ Penuh            â”‚               â”‚
â”‚  â”‚ (5-30 detik)     â”‚  â”‚ (2-3 menit)      â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

OFFLINE MODE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              POS KASIR - SYNC STATUS                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ”´ Status: OFFLINE                                         â”‚
â”‚  ğŸ“¡ WebSocket: Disconnected                                 â”‚
â”‚  â±ï¸ Last Sync: 15 menit yang lalu                           â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš ï¸ WARNING:                                                â”‚
â”‚                                                             â”‚
â”‚  Anda sedang bekerja dalam mode offline.                   â”‚
â”‚  Data akan disinkronkan otomatis saat koneksi kembali.     â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Pending Sync:                                              â”‚
â”‚  â”œâ”€ Sales: 15 pending      âš ï¸ Menunggu koneksi             â”‚
â”‚  â”œâ”€ Updates: 3 pending     âš ï¸ Menunggu koneksi             â”‚
â”‚  â””â”€ Errors: 0 failed       âœ… Tidak ada error              â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Tips:                                                      â”‚
â”‚  â€¢ Cek koneksi internet                                    â”‚
â”‚  â€¢ Data aman tersimpan lokal                               â”‚
â”‚  â€¢ Aplikasi tetap bisa digunakan                           â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Diagram 10: Security & Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SECURITY LAYERS                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

LAYER 1: Authentication
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  User Login
     â”‚
     â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Check LOCAL  â”‚
  â”‚ credentials? â”‚
  â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ NO (online login)
     â–¼
  Server Auth
  (JWT Token)
     â”‚
     â–¼
  Store Token
  (Secure Storage)


LAYER 2: Authorization
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  API Request
     â”‚
     â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Add Headers: â”‚
  â”‚ Authorizationâ”‚
  â”‚ Bearer Token â”‚
  â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
  Server Validate
  (Role & Permission)


LAYER 3: Data Encryption
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Local Storage
     â”‚
     â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Sensitive Data:  â”‚
  â”‚ - User password  â”‚
  â”‚ - Sale details   â”‚
  â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
  Hive Encryption
  (AES-256)
     â”‚
     â–¼
  Encrypted File


LAYER 4: Network Security
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  API Request
     â”‚
     â–¼
  HTTPS Only
  (TLS 1.2+)
     â”‚
     â–¼
  Server
  (Secure)
```

---

**ğŸ“Œ KESIMPULAN DIAGRAM:**

Dari semua diagram di atas, kita bisa simpulkan:

1. **âš¡ KECEPATAN**: Semua operasi read/write ke local database (< 10ms)
2. **ğŸ”„ FLEKSIBILITAS**: Otomatis switch online/offline tanpa gangguan
3. **ğŸ“¡ REAL-TIME**: WebSocket push updates ke semua device (< 1 second)
4. **ğŸ’ª RELIABILITY**: Retry mechanism, queue system, auto-recovery
5. **ğŸ” SECURITY**: Multi-layer security (auth, encryption, HTTPS)

**ğŸ¯ STRATEGI INI OPTIMAL UNTUK:**
- âœ… Multi-device deployment (puluhan kasir)
- âœ… Aplikasi yang harus cepat (no loading spinner)
- âœ… Data harus selalu up-to-date (real-time sync)
- âœ… Koneksi tidak stabil (offline-capable)
- âœ… Dataset besar (20,000+ produk)

**ğŸ’¡ USER EXPERIENCE:**
- User TIDAK PERNAH tunggu loading
- Data SELALU tersedia (offline/online)
- Update OTOMATIS di semua device
- Aplikasi TETAP CEPAT di semua kondisi

ğŸš€ **Ready for Production!**
